<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SoleGoes - Welcome</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.min.js"></script>
    <link rel="stylesheet" href="modern_theme.css">
    <style>
        body {
            background-color: #09090b;
            color: #fafafa;
            overflow: hidden;
            font-family: 'Plus Jakarta Sans', sans-serif;
        }

        /* 3D Scene */
        .scene {
            perspective: 1000px;
            height: 60vh;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            margin-top: 2rem;
        }

        .card-stack {
            position: relative;
            width: 85%;
            max-width: 340px;
            height: 100%;
            transform-style: preserve-3d;
        }

        .card {
            position: absolute;
            inset: 0;
            border-radius: 32px;
            overflow: hidden;
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.5);
            transition: all 0.6s cubic-bezier(0.23, 1, 0.32, 1);
            transform-origin: center bottom;
            background: #18181b;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        .card-image {
            width: 100%;
            height: 100%;
            object-fit: cover;
            pointer-events: none;
        }

        .card-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom, transparent 0%, rgba(9,9,11,0.2) 50%, rgba(9,9,11,0.8) 100%);
        }

        /* Card States */
        .card.active {
            transform: scale(1) translateY(0);
            z-index: 10;
            opacity: 1;
        }

        .card.next {
            transform: scale(0.92) translateY(20px);
            z-index: 5;
            opacity: 0.6;
            filter: brightness(0.5);
        }

        .card.next-2 {
            transform: scale(0.84) translateY(40px);
            z-index: 1;
            opacity: 0.3;
            filter: brightness(0.3);
        }

        .card.exit {
            transform: translateX(-120%) rotate(-20deg) !important;
            opacity: 0;
        }

        /* Content Area */
        .content-area {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 2rem;
            padding-top: 4rem;
            z-index: 50;
            background: linear-gradient(to top, #09090b 90%, transparent);
            min-height: 45vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-end;
        }

        .text-content {
            position: absolute;
            bottom: 200px; /* Increased from 140px to prevent overlap */
            left: 2rem;
            right: 2rem;
            transition: all 0.4s ease;
            opacity: 0;
            transform: translateY(20px);
            pointer-events: none;
        }

        .text-content.active {
            opacity: 1;
            transform: translateY(0);
            pointer-events: auto;
        }

        .text-gradient {
            background: linear-gradient(135deg, #6366f1, #a855f7);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        /* Progress Indicators */
        .indicators {
            display: flex;
            gap: 8px;
            margin-bottom: 1.5rem;
            justify-content: center;
            position: relative;
            z-index: 60;
        }

        .indicator {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }

        .indicator.active {
            width: 24px;
            background: #6366f1;
            border-radius: 12px;
        }

        /* Buttons */
        .btn-main {
            background: linear-gradient(135deg, #6366f1, #8b5cf6);
            color: #fff;
            border-radius: 999px;
            padding: 1.25rem;
            font-weight: 700;
            font-size: 1.1rem;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            transition: transform 0.2s;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
        }

        .btn-main:active {
            transform: scale(0.98);
        }

        .btn-skip {
            color: #71717a;
            font-size: 0.9rem;
            font-weight: 500;
            padding: 1rem;
            text-align: center;
        }

        /* Floating Elements */
        .floating-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: 600;
            color: #fff;
            z-index: 20;
            transform: translateY(-10px);
            opacity: 0;
            transition: all 0.4s ease 0.2s;
        }

        .card.active .floating-badge {
            transform: translateY(0);
            opacity: 1;
        }
    </style>
</head>
<body>

    <!-- 3D Card Stack -->
    <div class="scene">
        <div class="card-stack" id="cardStack">
            <!-- Card 3 (Back) -->
            <div class="card next-2" data-index="2">
                <img src="https://images.unsplash.com/photo-1469854523086-cc02fe5d8800?w=800&q=80" class="card-image" alt="Adventure">
                <div class="card-overlay"></div>
                <div class="floating-badge">ðŸš€ Ready to fly</div>
            </div>
            
            <!-- Card 2 (Middle) -->
            <div class="card next" data-index="1">
                <img src="https://images.unsplash.com/photo-1511632765486-a01980e01a18?w=800&q=80" class="card-image" alt="Squad">
                <div class="card-overlay"></div>
                <div class="floating-badge">âœ¨ Verified Squads</div>
            </div>

            <!-- Card 1 (Front) -->
            <div class="card active" data-index="0">
                <img src="https://images.unsplash.com/photo-1520250497591-112f2f40a3f4?w=800&q=80" class="card-image" alt="Solo">
                <div class="card-overlay"></div>
                <div class="floating-badge">ðŸ”¥ #1 Travel App</div>
            </div>
        </div>
    </div>

    <!-- Content & Controls -->
    <div class="content-area">
        
        <!-- Text 1 -->
        <div class="text-content active" data-index="0">
            <h1 class="text-4xl font-extrabold mb-4 leading-tight">
                Solo but <br>
                <span class="text-gradient">Never Alone.</span>
            </h1>
            <p class="text-gray-400 text-lg leading-relaxed">
                Join a community of travelers who turn solo trips into shared adventures.
            </p>
        </div>

        <!-- Text 2 -->
        <div class="text-content" data-index="1">
            <h1 class="text-4xl font-extrabold mb-4 leading-tight">
                Find Your <br>
                <span class="text-gradient">Travel Squad.</span>
            </h1>
            <p class="text-gray-400 text-lg leading-relaxed">
                Connect with like-minded people and create memories that last a lifetime.
            </p>
        </div>

        <!-- Text 3 -->
        <div class="text-content" data-index="2">
            <h1 class="text-4xl font-extrabold mb-4 leading-tight">
                Ready for <br>
                <span class="text-gradient">Takeoff?</span>
            </h1>
            <p class="text-gray-400 text-lg leading-relaxed">
                Curated trips, secure payments, and zero hassle. Let's go!
            </p>
        </div>

        <!-- Indicators -->
        <div class="indicators">
            <div class="indicator active"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
        </div>

        <!-- Buttons -->
        <button id="nextBtn" class="btn-main">
            Continue <i data-lucide="arrow-right" class="w-5 h-5"></i>
        </button>
        <div class="btn-skip" onclick="window.location.href='option15_login.html'">
            Skip to Login
        </div>
    </div>

    <!-- Demo Welcome Popup -->
    <div id="demoPopupOverlay" class="fixed inset-0 bg-black/80 backdrop-blur-sm z-[100] flex items-center justify-center opacity-0 pointer-events-none transition-opacity duration-300">
        <div id="demoPopup" class="bg-[#18181b] border border-white/10 w-[90%] max-w-[400px] rounded-[32px] p-6 shadow-2xl transform scale-95 opacity-0 transition-all duration-300 relative">
            
            <!-- Close Button -->
            <button onclick="closeDemoPopup()" class="absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full bg-white/5 hover:bg-white/10 text-gray-400 transition-colors">
                <i data-lucide="x" class="w-4 h-4"></i>
            </button>

            <!-- Header -->
            <div class="flex items-start gap-4 mb-6">
                <div class="w-12 h-12 rounded-2xl bg-gradient-to-br from-indigo-500/20 to-violet-500/20 flex items-center justify-center flex-shrink-0 border border-white/5">
                    <i data-lucide="sparkles" class="w-6 h-6 text-[#6366f1]"></i>
                </div>
                <div>
                    <h2 class="text-xl font-bold text-white leading-tight">Welcome to the<br>SoleGoes Experience!</h2>
                </div>
            </div>

            <!-- Description -->
            <p class="text-gray-400 text-sm mb-6 leading-relaxed">
                This is a UI demoâ€”just click through to experience the flow. Nothing to fill except the OTP!
            </p>

            <!-- OTP Box -->
            <div class="bg-[#6366f1]/10 border border-[#6366f1]/20 rounded-xl p-4 mb-6 flex items-center gap-3">
                <i data-lucide="key" class="w-5 h-5 text-[#6366f1]"></i>
                <span class="text-[#818cf8] font-medium text-sm">When asked: Use OTP <strong class="text-white">123456</strong></span>
            </div>

            <!-- Features List -->
            <div class="space-y-3 mb-8">
                <p class="text-white font-semibold text-sm">What you can explore:</p>
                <ul class="space-y-2 text-sm text-gray-400">
                    <li class="flex items-start gap-2">
                        <span class="w-1.5 h-1.5 rounded-full bg-gray-600 mt-1.5"></span>
                        Click buttons to navigate screens
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="w-1.5 h-1.5 rounded-full bg-gray-600 mt-1.5"></span>
                        Set preferences in the UI
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="w-1.5 h-1.5 rounded-full bg-gray-600 mt-1.5"></span>
                        Browse trips on the homepage
                    </li>
                    <li class="flex items-start gap-2">
                        <span class="w-1.5 h-1.5 rounded-full bg-gray-600 mt-1.5"></span>
                        Tap any trip â†’ Book â†’ Pay flow
                    </li>
                </ul>
            </div>

            <!-- Action Button -->
            <button onclick="closeDemoPopup()" class="w-full bg-white text-black font-bold py-3.5 rounded-full flex items-center justify-center gap-2 hover:bg-gray-100 transition-colors">
                Start Exploring <i data-lucide="arrow-right" class="w-4 h-4"></i>
            </button>
        </div>
    </div>

    <script>
        lucide.createIcons();

        const cards = Array.from(document.querySelectorAll('.card')).reverse(); // Reverse to handle stack order logic
        const texts = document.querySelectorAll('.text-content');
        const indicators = document.querySelectorAll('.indicator');
        const nextBtn = document.getElementById('nextBtn');
        
        let currentIndex = 0;
        const totalSlides = 3;

        // Popup Logic
        function showDemoPopup() {
            const overlay = document.getElementById('demoPopupOverlay');
            const popup = document.getElementById('demoPopup');
            
            overlay.classList.remove('opacity-0', 'pointer-events-none');
            // Small delay for popup animation to feel natural
            setTimeout(() => {
                popup.classList.remove('scale-95', 'opacity-0');
                popup.classList.add('scale-100', 'opacity-100');
            }, 100);
        }

        function closeDemoPopup() {
            const overlay = document.getElementById('demoPopupOverlay');
            const popup = document.getElementById('demoPopup');
            
            popup.classList.remove('scale-100', 'opacity-100');
            popup.classList.add('scale-95', 'opacity-0');
            
            setTimeout(() => {
                overlay.classList.add('opacity-0', 'pointer-events-none');
            }, 300);
            
            sessionStorage.setItem('demoPopupSeen', 'true');
        }

        // Show popup on load if not seen
        window.addEventListener('load', () => {
            if (!sessionStorage.getItem('demoPopupSeen')) {
                // Short delay before showing popup
                setTimeout(showDemoPopup, 1000);
            }
        });

        // Initial Setup: Ensure visual order matches logical order
        // DOM Order: Card 3 (bottom), Card 2, Card 1 (top)
        // Array Order (reversed): Card 1, Card 2, Card 3
        
        function updateState() {
            // Update Texts
            texts.forEach((text, i) => {
                if (i === currentIndex) {
                    text.classList.add('active');
                } else {
                    text.classList.remove('active');
                }
            });

            // Update Indicators
            indicators.forEach((ind, i) => {
                if (i === currentIndex) {
                    ind.classList.add('active');
                } else {
                    ind.classList.remove('active');
                }
            });

            // Update Button
            if (currentIndex === totalSlides - 1) {
                nextBtn.innerHTML = `Get Started <i data-lucide="rocket" class="w-5 h-5"></i>`;
                lucide.createIcons();
            }
        }

        function nextSlide() {
            if (currentIndex >= totalSlides - 1) {
                window.location.href = 'option15_login.html';
                return;
            }

            // Animate current top card exit
            // In our reversed array, cards[currentIndex] is the current visible card
            // But in DOM, the last element is the top one.
            // Let's rely on DOM query for visual state
            
            const visualCards = document.querySelectorAll('.card');
            // Visual cards are: [Card 3, Card 2, Card 1] (in DOM order)
            // Active card is the last one in the list that hasn't exited
            
            const activeCard = visualCards[visualCards.length - 1 - currentIndex];
            const nextCard = visualCards[visualCards.length - 2 - currentIndex];
            const nextNextCard = visualCards[visualCards.length - 3 - currentIndex];

            if (activeCard) {
                activeCard.classList.remove('active');
                activeCard.classList.add('exit');
            }

            if (nextCard) {
                nextCard.classList.remove('next');
                nextCard.classList.add('active');
            }

            if (nextNextCard) {
                nextNextCard.classList.remove('next-2');
                nextNextCard.classList.add('next');
            }

            currentIndex++;
            updateState();
        }

        nextBtn.addEventListener('click', nextSlide);

        // Touch Swipe Logic
        let touchStartX = 0;
        let touchEndX = 0;

        document.addEventListener('touchstart', e => {
            touchStartX = e.changedTouches[0].screenX;
        });

        document.addEventListener('touchend', e => {
            touchEndX = e.changedTouches[0].screenX;
            if (touchEndX < touchStartX - 50) {
                nextSlide();
            }
        });

    </script>
</body>
</html>
